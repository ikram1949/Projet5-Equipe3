// ğŸ”¹ Inscription
apiRouter.post('/register', (req, res) => {
  const { name, email, password } = req.body;
  db.get('SELECT * FROM users WHERE email = ?', [email], (err, user) => {
    if (err) return res.status(500).json({ message: 'Erreur recherche email.' });
    if (user) return res.status(409).json({ message: 'Email dÃ©jÃ  utilisÃ©.' });

    bcrypt.hash(password, 10, (err, hash) => {
      if (err) return res.status(500).json({ message: 'Erreur hash mot de passe.' });
      db.run('INSERT INTO users (name, email, password) VALUES (?, ?, ?)', [name, email, hash], err => {
        if (err) return res.status(500).json({ message: 'Erreur enregistrement utilisateur.' });
        res.status(201).json({ message: 'Compte crÃ©Ã© avec succÃ¨s.' });
      });
    });
  });
});